<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Личный кабинет клиента</title>
    <link rel="stylesheet" href="../Styles/clientPage.css">
</head>
<body>
    <div class="header">
        <div class="logo">
            📦 Личный кабинет
        </div>
        <div class="user-info">
            <span class="user-role">Клиент</span>
            <button class="logout-btn" onclick="logout()">Выйти</button>
        </div>
    </div>

    <div class="container">
        <div class="sidebar">
            <div class="nav-item active" data-page="profile">
                👤 Мой профиль
            </div>
            <div class="nav-item" data-page="orders">
                📦 Мои заказы
            </div>
            <div class="nav-item" data-page="new-order">
                🛒 Новый заказ
            </div>
            <div class="nav-item" data-page="search">
                🔍 Поиск товаров
            </div>
            <div class="nav-item" data-page="availability">
                📊 Наличие товаров
            </div>
        </div>

        <div class="main-content">
            <div class="page active" id="profile-page">
                <h1 class="page-title">Мой профиль</h1>
                <p class="page-subtitle">Ваши личные данные и контактная информация</p>

                <div class="profile-card">
                    <div class="profile-header">
                        <h2>Личная информация</h2>
                        <button class="edit-btn" onclick="toggleEditProfile()">Редактировать</button>
                    </div>

                    <div class="profile-view">
                        <div class="profile-grid">
                            <div class="profile-field">
                                <div class="profile-label">ФИО</div>
                                <div class="profile-value" id="profile-name">Иванов Иван Иванович</div>
                            </div>
                            <div class="profile-field">
                                <div class="profile-label">Дата рождения</div>
                                <div class="profile-value" id="profile-birthdate">15.05.1970</div>
                            </div>
                            <div class="profile-field">
                                <div class="profile-label">Телефон</div>
                                <div class="profile-value" id="profile-phone">+7 912 345 67 89</div>
                            </div>
                            <div class="profile-field">
                                <div class="profile-label">Email</div>
                                <div class="profile-value" id="profile-email">ivanov@example.com</div>
                            </div>
                            <div class="profile-field">
                                <div class="profile-label">Страна</div>
                                <div class="profile-value" id="profile-country">Россия</div>
                            </div>
                            <div class="profile-field">
                                <div class="profile-label">Адрес</div>
                                <div class="profile-value" id="profile-address">Москва, ул. Ленина, д. 1</div>
                            </div>
                        </div>
                    </div>

                    <div class="edit-form" id="edit-profile-form">
                        <div class="form-group">
                            <label>Фамилия</label>
                            <input type="text" id="edit-lastname" value="Иванов">
                        </div>
                        <div class="form-group">
                            <label>Имя</label>
                            <input type="text" id="edit-firstname" value="Иван">
                        </div>
                        <div class="form-group">
                            <label>Отчество</label>
                            <input type="text" id="edit-middlename" value="Иванович">
                        </div>
                        <div class="form-group">
                            <label>Дата рождения</label>
                            <input type="date" id="edit-birthdate" value="1970-05-15">
                        </div>
                        <div class="form-group">
                            <label>Телефон</label>
                            <input type="tel" id="edit-phone" value="+79123456789">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="edit-email" value="ivanov@example.com">
                        </div>
                        <div class="form-group">
                            <label>Страна</label>
                            <select id="edit-country">
                                <option value="1">Россия</option>
                                <option value="2">США</option>
                                <option value="3">Китай</option>
                                <option value="4">Германия</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Адрес</label>
                            <textarea id="edit-address" rows="2">Москва, ул. Ленина, д. 1</textarea>
                        </div>
                        <div class="form-actions">
                            <button class="save-btn" onclick="saveProfile()">Сохранить</button>
                            <button class="cancel-btn" onclick="toggleEditProfile()">Отмена</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="page" id="orders-page">
                <h1 class="page-title">Мои заказы</h1>
                <p class="page-subtitle">История всех ваших заказов</p>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>№ заказа</th>
                                <th>Дата</th>
                                <th>Товары</th>
                                <th>Сумма</th>
                                <th>Статус</th>
                                <th>Действия</th>
                            </tr>
                        </thead>
                        <tbody id="orders-table-body">
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="page" id="new-order-page">
                <h1 class="page-title">Новый заказ</h1>
                <p class="page-subtitle">Сформируйте новый заказ из доступных товаров</p>

                <div class="search-box">
                    <input type="text" class="search-input" id="order-search" placeholder="Поиск товара по названию...">
                    <button class="search-btn" onclick="searchProductsForOrder()">Найти</button>
                </div>

                <div class="new-order-form">
                    <h3>Товары в заказе</h3>
                    <div class="order-items" id="order-items-container">
                        <div class="loading">Выберите товары для заказа</div>
                    </div>

                    <div class="total">
                        Итого: <span id="order-total">0</span> ₽
                    </div>

                    <div class="form-actions">
                        <button class="save-btn" onclick="submitOrder()">Оформить заказ</button>
                        <button class="cancel-btn" onclick="clearOrder()">Очистить</button>
                    </div>
                </div>

                <div class="products-grid" id="order-products-grid">
                </div>
            </div>

            <div class="page" id="search-page">
                <h1 class="page-title">Поиск товаров</h1>
                <p class="page-subtitle">Найдите нужные товары по названию или описанию</p>

                <div class="search-container">
                    <div class="search-box">
                        <input type="text" class="search-input" id="product-search" placeholder="Введите название товара...">
                        <button class="search-btn" onclick="searchProducts()">Искать</button>
                    </div>

                    <div class="filters">
                        <select class="filter-select" id="category-filter">
                            <option value="">Все категории</option>
                            <option value="equipment">Оборудование</option>
                            <option value="tools">Инструменты</option>
                            <option value="materials">Материалы</option>
                        </select>

                        <select class="filter-select" id="price-filter">
                            <option value="">Любая цена</option>
                            <option value="0-10000">До 10 000 ₽</option>
                            <option value="10000-50000">10 000 - 50 000 ₽</option>
                            <option value="50000+">От 50 000 ₽</option>
                        </select>

                        <select class="filter-select" id="stock-filter">
                            <option value="">Любое наличие</option>
                            <option value="available">Есть в наличии</option>
                            <option value="low">Мало осталось</option>
                        </select>
                    </div>
                </div>

                <div class="products-grid" id="search-results">
                </div>
            </div>

            <div class="page" id="availability-page">
                <h1 class="page-title">Наличие товаров</h1>
                <p class="page-subtitle">Проверьте наличие и сроки поставки товаров</p>

                <div class="search-box">
                    <input type="text" class="search-input" id="availability-search" placeholder="Введите ID товара или название...">
                    <button class="search-btn" onclick="checkAvailability()">Проверить</button>
                </div>

                <div id="availability-results">
                    <div class="loading">Введите ID товара для проверки наличия</div>
                </div>
            </div>
        </div>
    </div>

    <script src="../Scripts/clientPage.js"></script>
</body>
</html>